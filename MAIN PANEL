import javax.swing.*;
import java.awt.*;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;

public class MyFrame extends JFrame implements ActionListener {

    CardLayout cardLayout;
    JPanel cardPanel;

    JButton pomodoroBtn, schedulerBtn, taskTrackerBtn;

    public MyFrame() {
        this.setTitle("Skibidi Scheduler");
        this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        this.setSize(800, 500);
        this.setResizable(false);
        this.setLocationRelativeTo(null);

        // MAIN LAYOUT
        this.setLayout(new BorderLayout());

        // ICON D2
        ImageIcon image = new ImageIcon("lagay img d2.png");
        this.setIconImage(image.getImage());

        // TOP TITLE BAR
        JLabel header = new JLabel("SKIBIDI SCHEDULER", SwingConstants.CENTER);
        header.setFont(new Font("Arial", Font.BOLD, 18));
        header.setBorder(BorderFactory.createEmptyBorder(10, 0, 10, 0));
        this.add(header, BorderLayout.NORTH);

        // NAVBAR
        JPanel navPanel = new JPanel();
        navPanel.setBackground(new Color(255, 247, 228));
        navPanel.setLayout(new FlowLayout(FlowLayout.CENTER, 40, 5));

        pomodoroBtn = new JButton("Scheduler");
        schedulerBtn = new JButton("Tasks");
        taskTrackerBtn = new JButton("Settings");

        pomodoroBtn.addActionListener(this);
        schedulerBtn.addActionListener(this);
        taskTrackerBtn.addActionListener(this);

        navPanel.add(pomodoroBtn);
        navPanel.add(schedulerBtn);
        navPanel.add(taskTrackerBtn);

        this.add(navPanel, BorderLayout.BEFORE_FIRST_LINE);

        // CARD LAYOUT
        cardLayout = new CardLayout();
        cardPanel = new JPanel(cardLayout);

        // PANELS
        cardPanel.add(createPomodoroPanel(), "POMODORO");
        cardPanel.add(createPanel("Task List Here"), "SCHEDULER");
        cardPanel.add(createPanel("Settings Here"), "TASK");

        this.add(cardPanel, BorderLayout.CENTER);

        // FOOTER STATUS
        JLabel status = new JLabel("Status: Ready to Focus", SwingConstants.LEFT);
        status.setBorder(BorderFactory.createEmptyBorder(10, 10, 10, 10));
        status.setBackground(new Color(255, 247, 228));
        status.setOpaque(true);
        this.add(status, BorderLayout.SOUTH);

        this.setVisible(true);
    }

    // ----------------------------------------------------
    // ðŸŸ£ POMODORO SCREEN (the one from your screenshot)
    // ----------------------------------------------------
    private JPanel createPomodoroPanel() {

        JPanel panel = new JPanel();
        panel.setBackground(new Color(255, 247, 228)); // cream background
        panel.setLayout(null); // manual layout like your screenshot

        // TIMER CIRCLE PANEL
        JPanel timerPanel = new JPanel();
        timerPanel.setBackground(new Color(255, 200, 255));
        timerPanel.setBounds(50, 50, 200, 230);
        timerPanel.setLayout(null);
        timerPanel.setBorder(BorderFactory.createLineBorder(Color.PINK, 2));
        panel.add(timerPanel);

        // TIMER LABEL
        JLabel timerLabel = new JLabel("25:00", SwingConstants.CENTER);
        timerLabel.setFont(new Font("Arial", Font.BOLD, 35));
        timerLabel.setBounds(20, 40, 160, 60);
        timerPanel.add(timerLabel);

        // START BUTTON
        JButton startBtn = new JButton("START");
        startBtn.setBounds(50, 140, 100, 40);
        startBtn.setBackground(Color.PINK);
        timerPanel.add(startBtn);

        // RIGHT TASK PANEL
        JPanel taskPanel = new JPanel();
        taskPanel.setBackground(new Color(240, 210, 255));
        taskPanel.setBounds(300, 50, 430, 330);
        taskPanel.setLayout(null);
        taskPanel.setBorder(BorderFactory.createLineBorder(new Color(200, 100, 255), 2));

        JLabel tasksTitle = new JLabel("Today's Tasks");
        tasksTitle.setFont(new Font("Arial", Font.BOLD, 18));
        tasksTitle.setBounds(20, 10, 200, 30);

        JTextArea tasksList = new JTextArea(
                "- Subject: CS101\n" +
                        "   â€¢ Activity 3 (Nov 10)\n" +
                        "   â€¢ Quiz Review (Nov 17)\n\n" +
                        "- Subject: Ethics\n"
        );
        tasksList.setEditable(false);
        tasksList.setFont(new Font("Arial", Font.PLAIN, 14));
        tasksList.setBackground(new Color(240, 210, 255));
        tasksList.setBounds(20, 50, 390, 250);

        taskPanel.add(tasksTitle);
        taskPanel.add(tasksList);
        panel.add(taskPanel);

        return panel;
    }

    // Placeholder Panels
    private JPanel createPanel(String text) {
        JPanel panel = new JPanel();
        panel.setBackground(new Color(255, 247, 228));
        JLabel label = new JLabel(text);
        label.setFont(new Font("Arial", Font.PLAIN, 20));
        panel.add(label);
        return panel;
    }

    // Switch between panels
    @Override
    public void actionPerformed(ActionEvent e) {
        if (e.getSource() == pomodoroBtn) {
            cardLayout.show(cardPanel, "POMODORO");
        }
        if (e.getSource() == schedulerBtn) {
            cardLayout.show(cardPanel, "SCHEDULER");
        }
        if (e.getSource() == taskTrackerBtn) {
            cardLayout.show(cardPanel, "TASK");
        }
    }
}
